!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};e[n].call(s.exports,s,s.exports,i);s.l=!0;return s.exports}i.m=e;i.c=t;i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})};i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};i.t=function(e,t){1&t&&(e=i(e));if(8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);i.r(n);Object.defineProperty(n,"default",{enumerable:!0,value:e});if(2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n};i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};i.d(t,"a",t);return t};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="//static.hsappstatic.net/web-interactives-embed/static-2.116/";i(i.s=12)}([function(e,t,i){"use strict";var n=i(1);i.d(t,"MessageTypes",(function(){return n.a}));var s=i(2);i.d(t,"setStyleOnElement",(function(){return s.a}));var o=i(13);i.d(t,"GlobalIframeCommunication",(function(){return o.a}));i.d(t,"createFrameComponent",(function(){return o.b}));var r=i(4);i.d(t,"Store",(function(){return r.a}));i(14);var a=i(15);i.d(t,"ParentApplicationController",(function(){return a.a}));i(6),i(5)},function(e,t,i){"use strict";const n={RECEIVED_ANALYTICS:"HS_CTA_PARENT_RECIVED_ANALYTICS",DEVICE_TYPE:"HS_CTA_PARENT_DEVICE_TYPE",PROXY_ANALYTICS_FN_CALLBACK:"HS_CTA_PARENT_PROXY_ANALYTICS_FN",INIT:"HS_CTA_PARENT_INIT",STARTED:"HS_CTA_STARTED",NAVIGATE_PAGE:"HS_CTA_NAVIGATE_PAGE",CLICK_EVENT:"HS_CTA_CLICK_EVENT",CLOSE_INTERACTIVE:"HS_CTA_CLOSE_INTERACTIVE",LOG_DEBUG:"HS_CTA_LOG_DEBUG",NEW_HEIGHT:"HS_CTA_NEW_HEIGHT",DISPLAY_CALL_TO_ACTION:"HS_DISPLAY_CALL_TO_ACTION",PROXY_ANALYTICS:"HS_CTA_PROXY_ANALYTICS",PROXY_ANALYTICS_FN:"HS_CTA_PROXY_ANALYTICS_FN",SEND_FORM_DEFINITON:"HS_SEND_FORM_DEFINITION",SEND_CTA_CONFIG:"HS_SEND_CTA_CONFIG"};t.a=n},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));function n(e,t={}){for(const i in t)Object.hasOwnProperty.call(t,i)&&(e.style[i]=t[i])}},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));class n{constructor(){this.liseners=new Map}on(e,t){if(!this.liseners.has(e)){this.liseners.set(e,[t]);return}const i=this.liseners.get(e);this.liseners.set(e,[...i,t])}off(e){this.liseners.delete(e)}emit(e,t){const i=this.liseners.get(e);i&&i.length&&i.forEach(e=>e(t))}reset(){this.liseners=new Map}}function s(){return new n}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t){this.listeners=new Set;this.batching=!1;this.queue=[];this.subscribe=e=>{this.listeners.add(e);let t=()=>{};this.options&&this.options.onSubscribe&&(t=this.options.onSubscribe(e,this));return()=>{this.listeners.delete(e);t()}};this.setState=e=>{const t=this.state;this.options&&this.options.updateFn?this.state=this.options.updateFn(t)(e):this.state=e(t);if(this.state!==t){this.queue.push(()=>{this.listeners.forEach(e=>e(this.state,t));this.options&&this.options.onUpdate&&this.options.onUpdate(this.state,t)});this._flush()}};this._flush=()=>{if(!this.batching){this.queue.forEach(e=>e());this.queue=[]}};this.batch=e=>{this.batching=!0;e();this.batching=!1;this._flush()};this.state=e;this.options=t}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));function n(e){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}},function(e,t){},function(e,t,i){"use strict";var n=i(16);i.d(t,"createTrigger",(function(){return n.a}));i(8)},function(e,t){},,,,function(e,t,i){"use strict";i.r(t);var n=i(0);function s(e,t){const i=[...e].filter(([e,i])=>t(i));return new Map(i)}function o(e,t){const i=[...e].sort(([e,i],[n,s])=>t(i,s));return new Map(i)}const r={BANNER:"BANNER",MODAL:"MODAL",SLIDE_IN:"SLIDE_IN",EMBEDDED:"EMBEDDED"};function a({contentId:e,portalId:t,isLiveHSPage:i,env:n,hublet:s}){if(i)return`/hs-web-interactive-${t}-${e}`;return`https://${t}.hs-sites${"qa"===n?"qa":""}${"na1"===s?"":"-"+s}.com/hs-web-interactive-${t}-${e}`}const c="web-interactives/public/v1/embed/combinedConfigs",h="web-interactives/public/v1/embed/templateConfig";function l(e,t){t.hutk&&e.searchParams.set("utk",""+t.hutk);t.hstc&&e.searchParams.set("__hstc",""+t.hstc);t.hssc&&e.searchParams.set("__hssc",""+t.hssc);t.referrer&&e.searchParams.set("referrer",""+t.referrer)}function d({contentIds:e,currentUrl:t,templatePath:i,isPreview:n,previewScheduled:s,portalId:o,env:r,hublet:a="na1",versionId:d,analytics:u,isMobile:p}){const m="qa"===r?"qa":"";let g="";g=i?h:c;let f="";f="na1"===a?`https://cta-service-cms2.hubspot${m}.com/${g}`:`https://cta-${a}.hubspot${m}.com/${g}`;const v=new URL(f);n&&v.searchParams.set("isPreview","true");e&&e.length&&e.forEach(e=>v.searchParams.append("contentIds",""+e));o&&v.searchParams.set("portalId",""+o);!t||n||i||v.searchParams.set("currentUrl",t);d&&v.searchParams.set("versionId",""+d);s&&v.searchParams.set("previewScheduled","true");i&&v.searchParams.set("templatePath",i);u&&!n&&l(v,u);p&&v.searchParams.set("isMobile","true");return v.href}const u={TOP:"TOP",BOTTOM:"BOTTOM",TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT"},p=(e,t=1)=>{if(!e)return{r:null,g:null,b:null,a:t};if(3===(e=e.replace("#","")).length){const t=e.split("").reduce((e,t)=>e+t+t,"");e=t}return{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:t}},m=(e,t=1)=>{const i=p(e,t);return`rgba(${i.r}, ${i.g}, ${i.b}, ${i.a})`};class g{constructor(){this.fetchConfigs=()=>{const e=this.store.state.configRequest;if(!e)return;const t=d(e);fetch(t).then(t=>{t.ok||this.handleFetchFailed();t.json().then(t=>{e.templatePath?this.handleTemplateSucceded(t):this.handleFetchSucceded(t)}).catch(this.handleFetchFailed)}).catch(this.handleFetchFailed)};this.handleFetchFailed=()=>{this.store.setState(e=>Object.assign({},e,{requestError:!0}))};this.handleFetchSucceded=({sortedAudienceConfigs:e,requestedConfigs:t})=>{const i=new Map;e&&e.length&&e.forEach(e=>i.set(e.contentModelId,e));t&&t.length&&t.forEach(e=>{i.has(e.contentModelId)||i.set(e.contentModelId,e)});this.store.setState(e=>Object.assign({},e,{configs:i,isLoaded:!0}))};this.handleTemplateSucceded=e=>{this.store.setState(t=>Object.assign({},t,{templateConfig:e,isLoaded:!0}))};const e={configs:new Map,configRequest:null,requestError:!1,isLoaded:!1};this.store=new n.Store(e)}init(e){this.store.setState(t=>Object.assign({},t,{configRequest:e}));this.fetchConfigs()}subscribe(e){this.store.subscribe(e)}get configs(){return this.store.state.configs}get sortedConfigsWithSpecificty(){return o(this.configsWithAudience,(e,t)=>t.specificity-e.specificity)}get configsWithAudience(){return s(this.configs,e=>e.specificity>0)}get overlayedConfigsWithNoAudience(){return s(this.overlayedConfigs,e=>!e.specificity)}get overlayedConfigs(){return s(this.configs,e=>e.containerType!==r.EMBEDDED)}get embeddedConfigs(){const e=s(this.configs,e=>e.containerType===r.EMBEDDED);this.templateConfig&&this.templateConfig.containerType===r.EMBEDDED&&e.set(1,this.templateConfig);return e}get templateConfig(){return this.store.state.templateConfig}get previewConfig(){const[e]=this.store.state.configs.values();return e}static getStylesFromContainerStyles(e){let t=e.width.value||5,i=e.height.value||5;"px"===e.width.units&&(t=Math.max(t,5));"px"===e.height.units&&(i=Math.max(i,5));return{width:`${t}${e.width.units}`,height:`${i}${e.height.units}`}}static getStylesForIframe(e){const t={},{border:i,borderRadius:n,boxShadow:s}=e;i&&(t.border=`${i.width.value}${i.width.units} ${i.style} ${m(i.color,i.opacity/100)}`);s&&s.css&&(t.boxShadow=s.css.split(":")[1]);n&&(t.borderRadius=`${n.value}${n.units}`);return t}static isFloatingButtonLike(e){return"isDismissable"in e&&(e.containerType===r.SLIDE_IN&&!e.isDismissable)}static isTopBannerLike(e){return e.containerType===r.BANNER&&e.containerStyles.position===u.TOP}}var f=new g;const v=()=>document.getElementById("hubspot-web-interactives-loader"),y=(e,t)=>{if(!t)return null;const i=t.getAttribute(e);return i||null},T=e=>{const t=y("data-hsjs-portal",e);return t?parseInt(t,10):null},b=e=>{const t=y("data-hsjs-env",e);return t||"prod"},C=e=>{const t=y("data-hsjs-hublet",e);return t||"na1"},I=e=>{const t=y("data-hsjs-local",e);return!!t&&"true"===t},S=e=>y("src",e),E=()=>{const e=v();return e?{portalId:T(e),env:b(e),hublet:C(e),isLocal:I(e),src:S(e)}:null},w=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);class O{constructor(){this.portalId=0;this.env="";this.hublet="na1";this.isLocal=!1;this.isMobile=!1;this.isLiveHSPage=!1;this.pageId=null;this.isPreview=!1;this.isScreenshot=!1;this.isTemplate=!1;this.previewScheduled=!1;this.currentUrl=window.location.href}init(){this._setEnvProps();this._setUrlProps()}static getPageId(){return window.hsVars&&window.hsVars.analytics_page_id?window.hsVars.analytics_page_id:window.hsVars&&window.hsVars.page_id?window.hsVars.page_id:null}_setEnvProps(){const e=E();this.portalId=e.portalId;this.hublet=e.hublet;this.env=e.env;this.isLocal=e.isLocal;this.isMobile=w();this.pageId=O.getPageId();this.isLiveHSPage=Boolean(this.pageId)}_setUrlProps(){const e=new URLSearchParams(window.location.search);if(e.has("templatePath")){this.templatePath=e.get("templatePath");this.isTemplate=!0}e.has("previewScheduled")&&(this.previewScheduled="true"===e.get("previewScheduled"));e.has("versionId")&&(this.versionId=parseInt(e.get("versionId"),10));if(e.has("screenshotBodyHeight")){this.screenshotBodyHeight=parseInt(e.get("screenshotBodyHeight"),10);this.isScreenshot=!0}if(e.has("previewInteractiveId")){this.previewId=parseInt(e.get("previewInteractiveId"),10);this.isPreview=!0}}}var M=new O;const P="hs-cta-trigger-button",_="hs-cta-embed",A="body-wrapper";var L=()=>Array.from(document.getElementsByClassName(P));var F=()=>Array.from(document.getElementsByClassName(_));const R=()=>{try{return Array.from(document.querySelectorAll("a[href*='HS_DISPLAY_CALL_TO_ACTION'"))}catch(e){return[]}},N=e=>{const t=e.getAttribute("href");if(!t)return null;const i=/\(([^)]+)\)/.exec(t);if(!i)return null;const n=i[1];return n?JSON.parse(n.replace(/(['"])?([a-z0-9A-Z_]+)(['"])?:/g,'"$2": ').replaceAll("'",'"')).id:null};var B=e=>{const t=Array.from(e.classList).filter(e=>e.startsWith(P)&&e!==P||e.startsWith(_)&&e!==_).map(e=>e.split("-").pop());return Number(t)};const H=()=>{const e=new Map,t=new Map,i=new Set,n=new Set;L().forEach(t=>{const n=B(t);i.add(n);const s=e.get(n);s?e.set(n,[...s,t]):e.set(n,[t])});F().forEach(e=>{const i=B(e);n.add(i);const s=t.get(i);s?t.set(i,[...s,e]):t.set(i,[e])});R().forEach(t=>{const n=N(t);if(!n)return;i.add(n);const s=e.get(n);s?e.set(n,[...s,t]):e.set(n,[t])});const s=[...new Set([...i,...n])];return{clickTriggerButtons:e,embedContainers:t,clickTriggerIds:i,embedIds:n,uniqueIds:s}};let D={data:""},x=e=>{try{let t=e?e.querySelector("#_goober"):self._goober;return t||(t=(e||document.head).appendChild(document.createElement("style")),t.innerHTML=" ",t.id="_goober"),t.firstChild}catch(e){}return D},k=/(?:([a-z0-9-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(})/gi,$=/\/\*.*?\*\/|\s{2,}|\n/gm,G=(e,t,i)=>{let n="",s="",o="";for(let r in e){let a=e[r];if("object"==typeof a){let e=t+" "+r;/&/g.test(r)&&(e=r.replace(/&/g,t)),"@"==r[0]&&(e=t,"f"==r[1]&&(e=r)),/@k/.test(r)?s+=r+"{"+G(a,"","")+"}":s+=G(a,e,e==t?r:i||"")}else/^@i/.test(r)?n=r+" "+a+";":o+=G.p?G.p(r.replace(/[A-Z]/g,"-$&").toLowerCase(),a):r.replace(/[A-Z]/g,"-$&").toLowerCase()+":"+a+";"}if(o[0]){let e=t+"{"+o+"}";return i?s+i+"{"+e+"}":n+e+s}return n+s},j={},U=(e,t,i,n)=>{let s=e.toLowerCase?e:function e(t){let i="";for(let n in t)"object"==typeof val?i+=n+e(t[n]):i+=n+t[n];return i}(e),o=j[s]||(j[s]=".go"+s.split("").reduce((e,t)=>101*e+t.charCodeAt(0)>>>0,11));return((e,t,i)=>{t.data.indexOf(e)<0&&(t.data=i?e+t.data:t.data+e)})(j[o]||(j[o]=G(e[0]?(e=>{let t,i=[{}];for(;t=k.exec(e.replace($,""));)t[4]&&i.shift(),t[3]?i.unshift(i[0][t[3]]=i[0][t[3]]||{}):t[4]||(i[0][t[1]]=t[2]);return i[0]})(e):e,i?"":o)),t,n),o.slice(1)},q=(e,t,i)=>e.reduce((e,n,s)=>{let o=t[s];if(o&&o.call){let e=o(i),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&e.props?"":e}return e+n+(null==o?"":o)},"");function V(e){let t=this||{},i=e.call?e(t.p):e;return U(i.map?q(i,[].slice.call(arguments,1),t.p):i,x(t.target),t.g,t.o)}V.bind({g:1});const z=V(["position:fixed;display:block;width:100%;height:0px;margin:0px;padding:0px;overflow:visible;transform-style:preserve-3d;background:transparent;backface-visibility:hidden;pointer-events:none;left:0px;z-index:9998;"]),W=V(["top:0px;z-index:9999;height:100%;width:100%;"]),Y=V(["bottom:0px;"]),K=V(["position:fixed;z-index:9989;"]),X=V(["left:0;bottom:0;"]),Q=V(["right:0;bottom:0;"]),J=V(["left:0;top:0;"]),Z=V(["right:0;top:0;"]),ee=V(["position:relative;overflow:hidden;display:none;"]),te=V(["display:block;"]),ie="hs-web-interactives-top-anchor",ne="hs-web-interactives-top-push-anchor",se="hs-web-interactives-bottom-anchor",oe="hs-web-interactives-floating-container",re="hs-web-interactives-floating-top-left-anchor",ae="hs-web-interactives-floating-top-right-anchor",ce="hs-web-interactives-floating-bottom-left-anchor",he="hs-web-interactives-floating-bottom-right-anchor",le=()=>`\n<div class="${z} ${W}" id="${ie}"></div>\n<div class="${z} ${Y}" id="${se}"></div>\n<div id="${oe}">\n  <div id="${re}" class="${K} ${J}" >\n  </div>\n  <div id="${ae}" class="${K} ${Z}">\n  </div>\n  <div id="${ce}" class="${K} ${X}">\n  </div>\n  <div id="${he}" class="${K} ${Q}">\n  </div>\n</div>\n`;class de{constructor(){this.render();this.topPushAnchor=document.getElementById(ne);this.topAnchor=document.getElementById(ie);this.bottomAnchor=document.getElementById(se);this.floatingAnchors={[u.TOP_LEFT]:document.getElementById(re),[u.TOP_RIGHT]:document.getElementById(ae),[u.BOTTOM_LEFT]:document.getElementById(ce),[u.BOTTOM_RIGHT]:document.getElementById(he)};this.bottomRightFloatingButtonAnchor=this.floatingAnchors.BOTTOM_RIGHT}attachInteractiveOverlayToAnchor(e){e.containerType!==r.MODAL?e.isFloatingButtonLike?this.attachFloatingButton(e):e.containerType!==r.BANNER&&e.containerType!==r.SLIDE_IN||this.attachBanner(e):this.attachModal(e)}attachModal(e){this.topAnchor.appendChild(e.container)}attachBanner(e){e.position===u.BOTTOM||e.position===u.BOTTOM_LEFT||e.position===u.BOTTOM_RIGHT?this.bottomAnchor.appendChild(e.container):e.position!==u.TOP&&e.position!==u.TOP_RIGHT&&e.position!==u.TOP_LEFT||this.topAnchor.appendChild(e.container)}attachFloatingButton(e){const t=this.floatingAnchors[e.position];t&&t.appendChild(e.container)}addMarginForConversations(e){this.bottomRightFloatingButtonAnchor.style.marginBottom=e+"px"}removeMarginForConversations(){this.bottomRightFloatingButtonAnchor.style.marginBottom=""}insertPushBanner(){const e=document.createElement("div");e.id=ne;e.classList.add(ee);document.body.prepend(e)}showPushBanner(e){this.topPushAnchor.style.height=e+"px";this.topPushAnchor.classList.add(te)}hidePushBanner(){this.topPushAnchor.style.height="";this.topPushAnchor.classList.remove(te)}render(){this.insertPushBanner();document.body.insertAdjacentHTML("beforeend",le())}}const ue=V(["position:absolute;pointer-events:none;width:101vw;height:101vh;background:rgba(0,0,0,0.7);opacity:0;z-index:-1;"]),pe=V(["z-index:99998;opacity:0.5;visibility:visible;pointer-events:all;cursor:pointer;"]);class me{constructor({parent:e}){this.overlay=document.createElement("div");this.overlay.id="hs-interactives-modal-overlay";this.overlay.classList.add(ue);this.render(e)}show(){this.overlay.classList.add(pe)}hide(){this.overlay.classList.remove(pe)}render(e){e.appendChild(this.overlay)}}const ge={modalPosition:null,bannerPositions:{TOP_LEFT:null,TOP_RIGHT:null,BOTTOM_LEFT:null,BOTTOM_RIGHT:null,BOTTOM:null,TOP:null},floatingPositions:{TOP_LEFT:null,TOP_RIGHT:null,BOTTOM_LEFT:null,BOTTOM_RIGHT:null}},fe=[u.TOP,u.TOP_LEFT,u.TOP_RIGHT],ve=[u.BOTTOM,u.BOTTOM_LEFT,u.BOTTOM_RIGHT];class ye{constructor({isMobile:e=!1}){this.isMobile=!1;this.store=new n.Store(ge);this.isMobile=e}setPosistionFromConfig(e){const{contentModelId:t,containerType:i,containerStyles:{position:n}}=e,s=g.isFloatingButtonLike(e);i===r.MODAL?this.setModalPosition(t):i!==r.BANNER&&!r.SLIDE_IN||s?s&&this.setFloatingPosition(n,t):this.setBannerPosition(n,t)}get modalPosition(){return this.store.state.modalPosition}get bannerPositions(){return this.store.state.bannerPositions}get floatingPositions(){return this.store.state.floatingPositions}canBeInsertedIntoPosition(e){return this.isMobile?this.canBeInsertedIntoPositionMobile(e):this.canBeInsertedIntoPositionDesktop(e)}canBeInsertedIntoPositionMobile(e){const t=g.isFloatingButtonLike(e);return e.containerType===r.MODAL?!this.modalPosition:e.containerType===r.BANNER||e.containerType===r.SLIDE_IN&&!t?Object.keys(this.bannerPositions).reduce((e,t)=>e&&!this.bannerPositions[t],!0):!!t&&Object.keys(this.floatingPositions).reduce((e,t)=>e&&!this.floatingPositions[t],!0)}canBeInsertedIntoPositionDesktop(e){const t=g.isFloatingButtonLike(e);return e.containerType===r.MODAL?!this.modalPosition:e.containerType===r.BANNER||e.containerType===r.SLIDE_IN&&!t?ve.includes(e.containerStyles.position)?!this.bannerPositions[u.BOTTOM]&&!this.bannerPositions[u.BOTTOM_LEFT]&&!this.bannerPositions[u.BOTTOM_RIGHT]:!!fe.includes(e.containerStyles.position)&&(!this.bannerPositions[u.TOP]&&!this.bannerPositions[u.TOP_LEFT]&&!this.bannerPositions[u.TOP_RIGHT]):!!t&&!this.floatingPositions[e.containerStyles.position]}setModalPosition(e){this.store.setState(t=>Object.assign({},t,{modalPosition:e}))}setBannerPosition(e,t){this.store.setState(i=>{const n=i.bannerPositions;return Object.assign({},i,{bannerPositions:Object.assign({},n,{[e]:t})})})}setFloatingPosition(e,t){this.store.setState(i=>{const n=i.floatingPositions;return Object.assign({},i,{floatingPositions:Object.assign({},n,{[e]:t})})})}}function Te(e){return new ye({isMobile:e})}const be=6e4,Ce=1440*be,Ie=7*Ce,Se=4*Ie,Ee={REPEAT_ONCE:"REPEAT_ONCE",REPEAT_FOREVER:"REPEAT_FOREVER",ONCE_OFF:"ONCE_OFF"},we={DAYS:"DAYS",MONTHS:"MONTHS",WEEKS:"WEEKS",MINUTES:"MINUTES"},Oe=Object.freeze({DAYS:Ce,MONTHS:Se,WEEKS:Ie,MINUTES:be}),Me="WI_IGNORED",Pe="WI_FREQUENCY",_e={frequency:Ee.REPEAT_ONCE,backoff:{backoffTimeDuration:2,backoffTimeUnit:we.WEEKS}},Ae=e=>{try{if(!localStorage.getItem(`${Pe}_${e}`)){const t=localStorage.getItem(`${Me}_${e}`);if(!t)return!1;return parseInt(t,10)>Date.now()-2*Oe.WEEKS}const t=JSON.parse(localStorage.getItem(`${Pe}_${e}`));switch(t.frequency){case Ee.ONCE_OFF:return!0;case Ee.REPEAT_FOREVER:return!1;case Ee.REPEAT_ONCE:{const{timeSaved:e,backoffTimeDuration:i,backoffTimeUnit:n}=t,s=i*Oe[n];return e>Date.now()-s}default:return!1}}catch(e){return!1}},Le=(e,t)=>{let i=t;i&&i.frequency||(i=_e);const{frequency:n,backoff:s}=i;try{let t={frequency:n};s&&(t=Object.assign({},t,{},s,{timeSaved:Date.now()}));localStorage.setItem(`${Pe}_${e}`,JSON.stringify(t))}catch(e){return}},Fe=(e,{frequency:t,backoff:i})=>{try{if(!t)return;const n=`${Pe}_${e}`,s=JSON.parse(localStorage.getItem(n));if(!s)return;if(s.frequency!==t){localStorage.removeItem(n);return}if(!i||!s.backoffTimeDuration)return;i.backoffTimeDuration===s.backoffTimeDuration&&i.backoffTimeUnit===s.backoffTimeUnit||localStorage.removeItem(n)}catch(e){return}},Re=V(["display:block !important;position:static !important;box-sizing:border-box !important;background:transparent !important;border:none;min-height:0px !important;max-height:none !important;margin:0px;padding:0px !important;height:100% !important;width:1px !important;max-width:100% !important;min-width:100% !important;"]);function Ne(e,t={}){for(const i in t)Object.hasOwnProperty.call(t,i)&&(e.style[i]=t[i])}const Be="hs-cta-embed__loaded",He=()=>{};class De{constructor({src:e,contentId:t,containerStyle:i,configStyle:s,iframeStyle:o,containerType:r,isFloatingButtonLike:a,isTopBanner:c}){this.onClose=He;this.setDeferredPromise();this.container=document.createElement("div");this.contentId=t;this.container.id="hs-overlay-cta-"+t;this.frameComponent=Object(n.createFrameComponent)({container:this.container,id:t,iframeSrc:e,onFrameReady:this.resolveFrameload,resizeHeight:s.scaleHeightToFitContent});this.frameComponent.iframe.setAttribute("data-test-id","interactive-frame");this.frameComponent.iframe.classList.add(Re);this.containerStyle=i;this.iframeStyle=o;this.configStyle=s;this.containerType=r;this.position=s.position||null;this.isFloatingButtonLike=a;this.isTopBanner=c;this.applyStyleElements();this.render()}applyStyleElements(){this.frameComponent.setStyle(this.iframeStyle);Ne(this.container,this.containerStyle)}setDeferredPromise(){this.frameLoadPromise=new Promise(e=>{this.resolveFrameload=e})}open(){return this.frameLoadPromise.then(()=>{this.frameComponent.setStyle({visibility:""});this.container.classList.add(Be);this.internalOpen()}).catch(()=>{})}close(){}render(){}registerCloseHandler(e){this.frameComponent.iframeCommunicator.registerHandlers({[n.MessageTypes.CLOSE_INTERACTIVE]:e})}internalOpen(){}}const xe=V(["z-index:99999;position:absolute;inset:50vh auto auto 50%;transform:translate(-50%,-50%);left:50%;top:50%;opacity:0;pointer-events:none;max-height:95%;max-width:95%;"]),ke=V(["pointer-events:auto !important;visibility:visible;opacity:1;transition:opacity 1s ease-in;"]);class $e extends De{internalOpen(){this.container.classList.add(ke)}close(){this.container.classList.remove(ke)}render(){this.container.classList.add(xe)}}const Ge=V(["pointer-events:auto !important;visibility:visible !important;max-height:95vh !important;transition:max-height 1s ease-in;"]),je=V(["z-index:9999;width:100%;max-height:0px;position:fixed;max-height:95%;visibility:hidden;"]),Ue=V(["z-index:9999;width:100%;max-height:0px;position:fixed;max-height:95%;visibility:hidden;bottom:0px;"]),qe=V(["z-index:9999;position:fixed;left:10px;top:10px;max-height:95vh !important;max-width:95%;visibility:hidden;"]),Ve=V(["z-index:9999;position:fixed;right:10px;top:10px;max-height:95vh !important;max-width:95%;visibility:hidden;"]),ze=V(["z-index:9999;position:fixed;left:10px;bottom:10px;max-height:95vh !important;max-width:95%;visibility:hidden;"]),We=V(["z-index:9999;position:fixed;right:10px;bottom:10px;max-height:95vh !important;max-width:95%;visibility:hidden;"]),Ye={[u.TOP]:je,[u.BOTTOM]:Ue,[u.BOTTOM_RIGHT]:We,[u.BOTTOM_LEFT]:ze,[u.TOP_RIGHT]:Ve,[u.TOP_LEFT]:qe};class Ke extends De{internalOpen(){this.container.classList.add(Ge)}close(){this.container.classList.remove(Ge)}addPositionClass(){const{position:e}=this.configStyle;this.container.classList.add(Ye[e])}render(){this.addPositionClass();this.container.classList.add(je)}}const Xe=V(["visibility:hidden;"]),Qe=V(["visibility:visible !important;"]);class Je extends De{internalOpen(){this.container.classList.add(Qe)}close(){this.container.classList.remove(Qe)}render(){this.container.classList.add(Xe)}}function Ze(e,t){const i=g.isFloatingButtonLike(e),n=g.isTopBannerLike(e),s={src:t,configStyle:e.containerStyles,contentId:e.contentModelId,containerType:e.containerType,containerStyle:g.getStylesFromContainerStyles(e.containerStyles),iframeStyle:g.getStylesForIframe(e.containerStyles),isFloatingButtonLike:i,isTopBanner:n};if(i)return new Je(s);switch(e.containerType){case r.MODAL:return new $e(s);case r.BANNER:case r.SLIDE_IN:return new Ke(s);default:return null}}const et=V(["cursor:pointer;"]);class tt{constructor(e,t){this.button=e;this.onClick=t;this.init()}init(){this.button.removeAttribute("href");this.button.removeAttribute("target");this.button.classList.add(et);this.button.removeAttribute("href");this.button.removeAttribute("target");this.button.addEventListener("mouseup",()=>{this.onClick()});this.button.addEventListener("keypress",e=>{"Enter"===e.key&&this.onClick()})}}var it=i(7);function nt(e,t){const i=new ResizeObserver(i=>{for(const n of i)n.target===e&&n.contentRect&&t(n.contentRect.height,n.contentRect.height)});i.observe(e);return()=>i.disconnect()}const st="hubspot-messages-iframe-container",ot=()=>{},rt=220,at=400;class ct{constructor(e){this.disconnectResizeObserver=ot;this.conversationsFrameContainer=null;this.handleConversationsReady=()=>{this.pollForConversationsRendered().then(()=>{this.conversationsFrameContainer=document.getElementById(st);console.log(this.conversationsFrameContainer);this.addConversationsStyleSheet();this.listenForConversationsHeightChange();this.setFloatingButtonOffset()}).catch(()=>{})};this.overlayContainer=e;this.listenForConversationsReady()}listenForConversationsReady(){window.HubSpotConversations?this.handleConversationsReady():window.hsConversationsOnReady&&window.hsConversationsOnReady.length?window.hsConversationsOnReady=[...window.hsConversationsOnReady,this.handleConversationsReady]:window.hsConversationsOnReady=[this.handleConversationsReady]}listenForConversationsHeightChange(){if(!this.conversationsFrameContainer)return;const e=nt(this.conversationsFrameContainer,e=>{this.conversationsFrameContainer&&e<rt&&this.setFloatingButtonOffset()});this.disconnectResizeObserver=e}pollForConversationsRendered(){return new Promise(e=>{const t=setInterval(()=>{if(document.getElementById(st)){e();clearInterval(t)}},at)})}setFloatingButtonOffset(){if(!this.overlayContainer||!this.conversationsFrameContainer)return;const e=this.conversationsFrameContainer.clientHeight;this.overlayContainer.addMarginForConversations(e)}addConversationsStyleSheet(){const e=document.createElement("style");e.innerHTML="#hubspot-messages-iframe-container { z-index: 9990!important; }";document.head.appendChild(e)}}function ht(e){return new ct(e)}const lt=-1;class dt{constructor({configModel:e,environmentModel:t,analyticsModel:i}){this.triggerMap=new Map;this.clickTriggerComponentMap=new Map;this.interactiveComponentMap=new Map;this.conversationsController=null;this.handleTrigger=e=>{if(!Ae(e)){this.openOverlay(e);for(const[t,i]of this.triggerMap)t===e&&i.forEach(e=>e.remove());this.triggerMap.delete(e)}};this.handleClickOpen=e=>{this.openOverlay(e)};this.closeOverlay=e=>{let t;t=this.configModel.templateConfig?this.interactiveComponentMap.get(lt):this.interactiveComponentMap.get(e);if(t){t.isTopBanner&&this.overlayedInteractivesContainer.hidePushBanner();t.containerType===r.MODAL&&this.overlay.hide();t.close()}};this.configModel=e;this.environmentModel=t;this.analyticsModel=i;this.overlayedInteractivesContainer=null;this.overlay=null;this.listenToConfigUpdates();this.listenForOpenCTAMessage()}init({clickTriggerButtons:e}){this.posistionsOccupied=Te(this.environmentModel.isMobile);this.overlayedInteractivesContainer=new de;this.overlay=new me({parent:this.overlayedInteractivesContainer.topAnchor});this.conversationsController=ht(this.overlayedInteractivesContainer);this.createClickTriggerComponents(e)}createClickTriggerComponents(e){for(const[t,i]of e)i.forEach(e=>{const i=new tt(e,()=>this.handleClickOpen(t)),n=this.clickTriggerComponentMap.get(t)||[];this.clickTriggerComponentMap.set(t,[...n,i])})}createOverlayInteractivesWithAudience(){for(const[e,t]of this.configModel.sortedConfigsWithSpecificty){if(!this.shouldCreateInteractiveOverlay(t))continue;if(!this.createOverlayComponentAndSetOnMap(t))continue;this.posistionsOccupied.setPosistionFromConfig(t);const e=Object(it.createTrigger)(t.triggers,()=>this.handleTrigger(t.contentModelId));if(!e.length)return;this.triggerMap.set(t.contentModelId,e)}}createOverlayInteractivesWithNoAudience(){for(const[e,t]of this.configModel.overlayedConfigsWithNoAudience){if(this.interactiveComponentMap.has(e))continue;this.createOverlayComponentAndSetOnMap(t)}}createTemplateOverlayInteractive(){this.createOverlayComponentAndSetOnMap(this.configModel.templateConfig)}createPreviewOverlayInteractive(){this.createOverlayComponentAndSetOnMap(this.configModel.previewConfig)}createOverlayComponentAndSetOnMap(e){const t=Ze(e,this.generateIframeSrc(e.iframeSrc));if(!t)return null;let i;i="contentModelId"in e?e.contentModelId:lt;this.interactiveComponentMap.set(i,t);this.overlayedInteractivesContainer.attachInteractiveOverlayToAnchor(t);t.registerCloseHandler(()=>this.closeOverlay(e.contentModelId));return t}shouldCreateInteractiveOverlay(e){return!(Ae(e.contentModelId)&&!this.clickTriggerComponentMap.has(e.contentModelId))&&!!this.posistionsOccupied.canBeInsertedIntoPosition(e)}listenToConfigUpdates(){this.configModel.store.subscribe((e,t)=>{if(this.environmentModel.isPreview&&e.configs.size>0){this.createPreviewOverlayInteractive();requestAnimationFrame(()=>{this.configModel.previewConfig&&this.openOverlay(this.configModel.previewConfig.contentModelId)})}else if(0===t.configs.size&&e.configs.size>0){this.createOverlayInteractivesWithAudience();this.createOverlayInteractivesWithNoAudience()}else if(e.templateConfig){this.createTemplateOverlayInteractive();requestAnimationFrame(()=>{this.openOverlay(lt)})}else;})}listenForOpenCTAMessage(){window.addEventListener("message",e=>{e&&e.data&&e.data.type===n.MessageTypes.DISPLAY_CALL_TO_ACTION&&this.openOverlay(e.data.id)})}openOverlay(e){const t=this.interactiveComponentMap.get(e);if(t){t.isTopBanner&&this.overlayedInteractivesContainer.showPushBanner(t.container.clientHeight);t.open().then(()=>{t.isTopBanner&&this.overlayedInteractivesContainer.showPushBanner(t.container.clientHeight);t.containerType===r.MODAL&&this.overlay.show()}).catch(()=>{})}}generateIframeSrc(e){if(this.environmentModel.isPreview||this.environmentModel.isTemplate)return e;const t=this.analyticsModel.analytics.hutk;if(!t)return e;const i=new URL(e);i.searchParams.set("utk",t);return i.href}}const ut="hs-cta-embed__loaded";class pt{constructor({contentId:e,embedContainer:t,iframeSrc:i}){this.listenForLoad();this.frameComponent=Object(n.createFrameComponent)({id:e,container:t,iframeSrc:i,resizeHeight:!0,onFrameReady:this.resolveFrameload});this.frameComponent.iframe.setAttribute("data-test-id","interactive-frame");this.frameComponent.iframe.classList.add(Re);this.contentId=e;this.embedContainer=t}setStyles(e,t,i){this.frameComponent.setShouldResize(i);Object(n.setStyleOnElement)(this.embedContainer,e);this.frameComponent.setStyle(Object.assign({},t,{visibility:""}));this.resolveConfig&&this.resolveConfig()}listenForLoad(){const e=new Promise(e=>{this.resolveFrameload=e}),t=new Promise(e=>{this.resolveConfig=e});Promise.all([e,t]).then(()=>{Array.from(this.embedContainer.children).forEach(e=>{e!==this.frameComponent.iframe&&this.embedContainer.removeChild(e)});this.embedContainer.classList.add(ut)}).catch(()=>{})}}class mt{constructor({environmentModel:e,configStore:t}){this.embeddedInteractives=new Map;this.environmentModel=e;this.configStore=t}init({embedContainers:e}){this.embedContainers=e;this.environmentModel.isPreview||this.environmentModel.isTemplate||this.createViews();this.listenForConfigs()}listenForConfigs(){this.configStore.configs.size>0?this.setStylesOnContainer():this.configStore.subscribe(()=>{if(this.configStore.embeddedConfigs.size>0){(this.environmentModel.isPreview||this.environmentModel.isTemplate)&&this.configStore.embeddedConfigs.size>0&&this.createViews();this.setStylesOnContainer()}})}setStylesOnContainer(){for(const[e,t]of this.configStore.embeddedConfigs){const i=this.embeddedInteractives.get(e);i&&i.length&&i.forEach(e=>{e.setStyles(g.getStylesFromContainerStyles(t.containerStyles),g.getStylesForIframe(t.containerStyles),t.containerStyles.scaleHeightToFitContent)})}}createViews(){for(const[e,t]of this.embedContainers){let i="";const n=this.configStore.embeddedConfigs.get(e);i=n?n.iframeSrc:a({contentId:e,portalId:this.environmentModel.portalId,env:this.environmentModel.env,hublet:this.environmentModel.hublet,isLiveHSPage:this.environmentModel.isLiveHSPage});const s=[];t.forEach(t=>{const n=new pt({contentId:e,embedContainer:t,iframeSrc:i});s.push(n)});this.embeddedInteractives.set(e,s)}}}const gt="POP_OVER",ft="hsCta";class vt{constructor({configStore:e,environmentModel:t}){this.ignoreCta=({id:e})=>{if(this.environmentModel.isPreview)return;const t=this.configStore.configs.get(e);t&&t.containerType!==r.EMBEDDED&&Le(e,t.displayFrequency)};this.registerPopupPolice=({id:e})=>{const t=this.configStore.configs.get(e);t&&t.containerType===r.MODAL&&window._registerAvailablePopup&&window._registerAvailablePopup(ft,gt)};this.configStore=e;this.environmentModel=t;this.registerHandlers();this.listenForConfigs()}registerHandlers(){n.GlobalIframeCommunication.registerHandlers({[n.MessageTypes.NAVIGATE_PAGE]:this.ignoreCta,[n.MessageTypes.CLOSE_INTERACTIVE]:this.ignoreCta,[n.MessageTypes.STARTED]:this.registerPopupPolice})}listenForConfigs(){this.configStore.subscribe((e,t)=>{if(e.configs.size!==t.configs.size)for(const[t,i]of e.configs)i.displayFrequency&&Fe(t,i.displayFrequency)})}}function yt(e){return new vt(e)}const Tt=V(["display:flex;justify-content:center;align-items:center;"]),bt="interactive-ready";class Ct{constructor({environmentModel:e}){this.environmentModel=e}init(){if(this.environmentModel.isPreview||this.environmentModel.isScreenshot||this.environmentModel.templatePath){this.bodyWrapper=document.getElementsByClassName(A)[0];if(this.bodyWrapper){this.setupEmbedContainer();this.setHeightForPreview();this.listenForInteractiveLoaded()}}}setupEmbedContainer(){this.bodyWrapper.classList.add(Tt);const e=this.environmentModel.previewId||1;this.bodyWrapper.innerHTML=`\n      <div class="${_} ${_}-${e}">\n    `}setHeightForPreview(){this.bodyWrapper.style.height="100vh"}listenForInteractiveLoaded(){n.GlobalIframeCommunication.registerHandlers({[n.MessageTypes.STARTED]:()=>document.body.classList.add(bt)})}}function It({environmentModel:e}){return new Ct({environmentModel:e})}function St(e,t){return"https://perf{region}.hsforms{env}.com/embed/v3/counters.gif".replace("{region}","-"+e).replace("{env}","qa"===t?"qa":"")}const Et={CONFIG_LOADED_SUCCESS:"config-loaded-success",CONFIG_LOADED_FAILURE:"config-loaded-failure",INTERACTIVE_SHOWN:"interactive-shown",INTERACTIVE_CLOSED:"interactive-closed",INTERACTIVE_NAVIGATED:"interactive-navigated"};class wt{constructor({environmentModel:e,configStore:t}){this.perfUrl="";this.environmentModel=e;this.configStore=t;this.registerHandlers();this.listenToConfigStore()}init(){this.perfUrl=St(this.environmentModel.hublet,this.environmentModel.env)}registerHandlers(){n.GlobalIframeCommunication.registerHandlers({[n.MessageTypes.STARTED]:()=>this.trackMetric(Et.INTERACTIVE_SHOWN),[n.MessageTypes.CLOSE_INTERACTIVE]:()=>this.trackMetric(Et.INTERACTIVE_CLOSED),[n.MessageTypes.NAVIGATE_PAGE]:()=>this.trackMetric(Et.INTERACTIVE_NAVIGATED)})}listenToConfigStore(){this.configStore.subscribe(e=>{e.requestError?this.trackMetric(Et.CONFIG_LOADED_FAILURE):e.isLoaded&&this.trackMetric(Et.CONFIG_LOADED_SUCCESS)})}trackMetric(e){if(!this.perfUrl.length)return;const t=`${this.perfUrl}?key=${e}&value=1`;(new Image).src=t}}function Ot(e){return new wt(e)}function Mt({env:e,hublet:t}){const i="prod"===e?"":e;let n="";n="na1"!==t&&t?`https://cta-${t}.hubspot${i}.com/web-interactives/public/v1/track`:`https://cta-service-cms2.hubspot${i}.com/web-interactives/public/v1/track`;return n}class Pt{constructor({analyticsStore:e,configsStore:t,environmentModel:i}){this.timingMap=new Map;this.baseUrl="";this.trackView=({id:e})=>{this.trackWithImage(e,"view");this.timingMap.set(e,Date.now())};this.trackClose=({id:e})=>{this.trackWithImage(e,"close")};this.analyticsStore=e;this.configStore=t;this.environmentModel=i}init(){this.baseUrl=Mt({env:this.environmentModel.env,hublet:this.environmentModel.hublet});this.environmentModel.isPreview||this.environmentModel.isTemplate||this.registerHandlers()}registerHandlers(){n.GlobalIframeCommunication.registerHandlers({[n.MessageTypes.STARTED]:this.trackView,[n.MessageTypes.CLOSE_INTERACTIVE]:this.trackClose})}trackWithImage(e,t){let i=`${this.baseUrl}/${t}`;i=this.attachTrackingParamsToUrl(i,e);(new Image).src=i}attachTrackingParamsToUrl(e,t){const i=new URL(e),n=this.configStore.configs.get(t);if(!n)return i.href;i.searchParams.set("webInteractiveId",String(n.webInteractiveId));i.searchParams.set("containerType",n.containerType);i.searchParams.set("portalId",String(this.environmentModel.portalId));const s=this.analyticsStore.analytics;s&&Object.entries(s).forEach(([e,t])=>{t&&i.searchParams.set(e,String(t))});const o=this.timingMap.get(t);if(o){i.searchParams.set("timeStarted",String(o));i.searchParams.set("timeFinished",String(Date.now()))}return i.href}}function _t(e){return new Pt(e)}function At(e){const[t,i]=e.split("?");if(!i)return{location:t,queryParams:{}};return i.split("&").reduce((e,t)=>{const[i,n]=t.split("=");return Object.assign({[i]:n},e)},{})}class Lt extends n.ParentApplicationController{constructor({configStore:e,environmentModel:t}){super();this.configStore=e;this.environmentModel=t;this.overlayedInteractivesController=new dt({configModel:this.configStore,environmentModel:t,analyticsModel:this.analyticsStore});this.embeddedInteractivesController=new mt({environmentModel:t,configStore:e});this.ignorerController=yt({configStore:e,environmentModel:t});this.previewController=It({environmentModel:this.environmentModel});this.metricsController=Ot({environmentModel:this.environmentModel,configStore:e});this.ctaAnalyticsController=_t({configsStore:this.configStore,analyticsStore:this.analyticsStore,environmentModel:this.environmentModel});this.listenForConfigs()}init(){this.environmentModel.init();this.metricsController.init();this.previewController.init();this.parsedDomResults=H();this.configStore.init(this._buildConfigRequest());this.embeddedInteractivesController.init({embedContainers:this.parsedDomResults.embedContainers});this.overlayedInteractivesController.init({clickTriggerButtons:this.parsedDomResults.clickTriggerButtons});this.ctaAnalyticsController.init()}_buildConfigRequest(){let e=[];const{isPreview:t,previewId:i,currentUrl:n,portalId:s,env:o,hublet:r,isMobile:a,templatePath:c,versionId:h}=this.environmentModel;e=t&&i?[i]:[...this.parsedDomResults.uniqueIds];return{contentIds:e,currentUrl:n,portalId:s,env:o,hublet:r,analytics:Object.assign({},this.analyticsStore.store.state),isMobile:a,isPreview:t,templatePath:c,versionId:h}}getNavigationUrl({url:e},t){const i=new URL(e);if(!i.searchParams.has("encryptedPayload"))return e;const n=At(e),s=this.configStore.configs.get(t);if(!s)return e;i.searchParams.set("webInteractiveId",String(s.webInteractiveId));i.searchParams.set("containerType",s.containerType);s.campaignGuid&&i.searchParams.set("campaignId",s.campaignGuid);i.searchParams.delete("encryptedPayload");return`${i.href}&encryptedPayload=${encodeURIComponent(n.encryptedPayload)}`}listenForConfigs(){this.configStore.subscribe((e,t)=>{if(e.configs.size!==t.configs.size)for(const[e,t]of this.configStore.configs)n.GlobalIframeCommunication.broadcast(e,{type:n.MessageTypes.SEND_CTA_CONFIG,payload:Object.assign({portalId:this.environmentModel.portalId},t)})})}}const Ft=new Lt({configStore:f,environmentModel:M});window.__hsWebInteractiveInstance=Ft;var Rt=Ft;const Nt=()=>!!(window.disabledHsPopups&&window.disabledHsPopups.indexOf("LEADFLOW")>-1)||!!window.hsInEditor,Bt=()=>{if(!Nt())if(window.hubspot_web_interactives_running)console.error("duplicate instance of web interactives app exists");else{Rt.init();window.hubspot_web_interactives_running=!0}},Ht=()=>{Bt();document.removeEventListener("DOMContentLoaded",Ht)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",Ht):Bt()},function(e,t,i){"use strict";var n=i(3);class s{constructor(){this.iframeCommunicators=new Map;this.eventEmitter=Object(n.a)();this.reset=()=>{this.eventEmitter.reset();this.iframeCommunicators=new Map}}registerHandler(e,t){this.eventEmitter.on(e,t)}registerHandlers(e){Object.keys(e).forEach(t=>{const i=t,n=e[i];n&&this.registerHandler(i,n)})}registerCommunicator(e,t){const i=this.iframeCommunicators.get(t)||[];this.iframeCommunicators.set(t,[...i,e])}emit(e,t){this.eventEmitter.emit(e,t)}broadcast(e,t){const i=this.iframeCommunicators.get(e);i&&i.forEach(e=>{e.sendMessage(t)})}broadcastAll(e){for(const[t,i]of this.iframeCommunicators)this.broadcast(t,e)}}var o=new s,r=i(1);function a(){return new MessageChannel}class c{constructor(e,t){this.queue=[];this.initialised=!1;this.events=new Map;this.eventEmitter=Object(n.a)();this.handleMessage=e=>{if(!e.data||!e.data.type)return;const{type:t,payload:i}=e.data;this.eventEmitter.emit(t,i);o.emit(t,Object.assign({},i,{id:this.id}))};this.handleFrameLoaded=()=>{if(this.iframe.contentWindow){this.iframe.contentWindow.postMessage({type:r.a.INIT},"*",[this.channel.port2]);this.initialised=!0;this.flushQueue()}};this.iframe=e;this.id=t;this.channel=a();this.channel.port1.onmessage=this.handleMessage;this.iframe.addEventListener("load",this.handleFrameLoaded)}sendMessage({type:e,payload:t}){this.initialised?this.channel.port1.postMessage({type:e,payload:t}):this.queue.push({type:e,payload:t})}registerHandler(e,t){this.eventEmitter.off(e);this.eventEmitter.on(e,t)}registerHandlers(e){Object.keys(e).forEach(t=>{const i=t,n=e[i];n&&this.registerHandler(i,n)})}removeHandler(e){this.eventEmitter.off(e)}flushQueue(){this.initialised&&this.queue.forEach(e=>{this.sendMessage(e)})}}function h(e,t){const i=new c(e,t);o.registerCommunicator(i,t);return i}function l(e){const t=window.location.origin.startsWith("https")?"https://":"http://";return e.startsWith(t)?e:`${t}${e.replace(/http(s)?:\/\//,"")}`}function d(e){e.style.border="none";e.style.height="100%";e.style.width="100%";e.style.visibility="hidden"}function u(e){const t=document.createElement("iframe");t.src=l(e);d(t);return t}var p=i(2);const m=()=>{};class g{constructor({id:e,container:t,iframeSrc:i,resizeHeight:n,onFrameReady:s}){this.onFrameReady=m;this.resizeHeight=!0;this.handleHeightChange=({height:e})=>{if(!this.resizeHeight)return;const t=e+2*parseInt(getComputedStyle(this.iframe).borderTopWidth,10);this.setContainerStyle({height:t+"px"})};this.id=e;this.resizeHeight=n;this.iframe=u(i);this.container=t;this.iframeCommunicator=h(this.iframe,e);s&&(this.onFrameReady=s);t.appendChild(this.iframe);this.registerHandlers()}registerHandlers(){this.iframeCommunicator.registerHandlers({[r.a.STARTED]:this.onFrameReady,[r.a.NEW_HEIGHT]:this.handleHeightChange})}setStyle(e){Object(p.a)(this.iframe,e)}setShouldResize(e){this.resizeHeight=e}setContainerStyle(e){Object(p.a)(this.container,e)}}function f(e){return new g(e)}i.d(t,"d",(function(){return h}));i.d(t,"c",(function(){return u}));i.d(t,"b",(function(){return f}));i.d(t,"a",(function(){return o}))},function(e,t,i){"use strict";i(1);i(5);i(3)},function(e,t,i){"use strict";var n=i(0);const s="hubspotutk",o="__hstc",r="__hssc",a=e=>{const t=document.cookie.match(`(^|[^;]+)\\s*${e}\\s*=\\s*([^;]+)`);return t?t.pop():""},c=()=>a(s),h=()=>a(o),l=()=>a(r);class d{constructor(){this._handleFetchSucceded=e=>{this.store.setState(t=>{const i={};i.path=e.path;i.referrerPath=e.referrerPath;i.referrer="";i.analyticsPageId=e.pageId;i.hsfp=e._getFingerprint();i.canonicalUrl=e.canonicalUrl;i.contentType=e.contentType;e.session&&(i.hssc=e.session.get());if(e.utk){i.hstc=e.utk.get();i.hutk=e.utk.visitor}return Object.assign({},t,{},i,{isLoaded:!0})})};window._hsq=window._hsq||[];const e={isLoaded:!1,pageUrl:window.location.href,pageTitle:window.document.title,referrer:window.document.referrer,userAgent:window.navigator.userAgent,hutk:c(),hssc:l(),hstc:h()};this.store=new n.Store(e);this.fetchAnalytics()}fetchAnalytics(){this._analyticsQueue.push(this._handleFetchSucceded)}subscribe(e){this.store.subscribe(e)}get analytics(){return this.store.state}track(e){this._analyticsQueue.push(e)}get _analyticsQueue(){return window._hsq}}var u=new d,p=i(13),m=i(1);class g{constructor({applicationController:e,analyticsStore:t}){this.applicationController=e;this.analyticsStore=t;this.listenForAnalyticsUpdate();this.listenForProxyMessage()}listenForAnalyticsUpdate(){this.analyticsStore.subscribe((e,t)=>{!t.isLoaded&&e.isLoaded&&p.a.broadcastAll({type:m.a.RECEIVED_ANALYTICS,payload:e})})}listenForProxyMessage(){p.a.registerHandlers({[m.a.PROXY_ANALYTICS]:({analytics:e})=>{this.analyticsStore.track(e)}})}}function f(e,t=!1){if(t){const t=window.open(e,"_blank");t?t.focus():window.location.assign(e)}else window.location.assign(e)}class v{constructor({applicationController:e}){this.applicationController=e;this.listenForNavigation()}listenForNavigation(){p.a.registerHandlers({[m.a.NAVIGATE_PAGE]:({url:e,openNewTab:t,id:i})=>{f(this.applicationController.getNavigationUrl({url:e,openNewTab:t},i),t)}})}}i.d(t,"a",(function(){return y}));class y{constructor(){this.analyticsStore=u;this.analyticsProxyController=new g({analyticsStore:this.analyticsStore,applicationController:this});this.navigationProxyController=new v({applicationController:this})}getNavigationUrl(e,t){return e.url}}},function(e,t,i){"use strict";class n{constructor({onTrigger:e}){this.isExitIntent=e=>{if(!e)return!1;return!e.relatedTarget&&e.clientY<100};this.handleMouseOut=e=>{this.isExitIntent(e)&&this.onTrigger(this)};this.onTrigger=e;this.setup()}setup(){document.addEventListener("mouseout",this.handleMouseOut)}remove(){document.removeEventListener("mouseout",this.handleMouseOut)}}const s=1e3,o=["mousedown","mousemove","keypress","scroll","touchstart"];class r{constructor({onTrigger:e,value:t}){this.resetTimer=()=>{this.timeout&&clearTimeout(this.timeout);this.timeout=setTimeout(()=>this.onTrigger(this),this.seconds)};this.onTrigger=e;this.seconds=t*s;this.timeout=null;this.setup()}setup(){this.timeout=setTimeout(()=>this.onTrigger(this),this.seconds);o.forEach(e=>{document.addEventListener(e,this.resetTimer)})}remove(){o.forEach(e=>{document.removeEventListener(e,this.resetTimer)});this.timeout&&clearTimeout(this.timeout)}}function a(){let e=!1;try{const t={get passive(){e=!0}};window.addEventListener("test",t,t);window.removeEventListener("test",t,t)}catch(t){e=!1}return e}function c(){return Math.max(document.body.offsetHeight,document.body.scrollHeight)}function h(){return Math.max(window.innerHeight||0,document.documentElement.clientHeight)}function l(){return document.body.scrollTop||document.documentElement.scrollTop}class d{constructor({onTrigger:e,value:t}){this.handleScroll=()=>{const e=c()-h();100*l()/e>=this.scrollPercent&&this.onTrigger(this)};this.onTrigger=e;this.scrollPercent=t;this.supportsPassiveScrolling=a();this.setup()}setup(){this.supportsPassiveScrolling?window.addEventListener("scroll",this.handleScroll,{capture:!0,passive:!0}):window.addEventListener("scroll",this.handleScroll,!0)}remove(){this.supportsPassiveScrolling?window.removeEventListener("scroll",this.handleScroll,{capture:!0}):window.removeEventListener("scroll",this.handleScroll,!0)}}const u=1e3;function p(){return document.timeline&&document.timeline.currentTime?document.timeline.currentTime:performance?performance.now():0}class m{constructor({onTrigger:e,value:t}){this.onTrigger=e;const i=p();this.ms=Math.max(t*u-i,0);this.timeout=null;this.setup()}setup(){this.timeout=setTimeout(()=>{this.onTrigger(this)},this.ms)}remove(){this.timeout&&clearTimeout(this.timeout)}}i.d(t,"a",(function(){return g}));function g(e,t){const{showOnPageScroll:i,showOnExitIntent:s,showAfterDelay:o,showAfterInactivity:a,pageScrollPercentageTrigger:c,delayInSeconds:h,inactivityInSeconds:l}=e,u=[];i&&u.push(new d({onTrigger:t,value:c||0}));s&&u.push(new n({onTrigger:t}));o&&u.push(new m({onTrigger:t,value:h||0}));a&&u.push(new r({onTrigger:t,value:l||0}));return u}}]);
//# sourceMappingURL=project.js.map